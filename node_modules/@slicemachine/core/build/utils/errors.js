"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const ErrorsHandler = {
    report(errors) {
        const invalidPaths = errors
            .map((error) => {
            const chunk = error.context
                .map(({ key }) => key)
                .filter((c) => c !== "");
            const computedChunks = chunk.map((c) => {
                const index = parseInt(c);
                if (isNaN(index)) {
                    return {
                        type: "path",
                        value: c,
                    };
                }
                else {
                    return {
                        type: "index",
                        value: index.toString(),
                    };
                }
            });
            const formattedPath = computedChunks.reduce((acc, chunk) => {
                switch (chunk.type) {
                    case "index":
                        return acc + `|${chunk.value}|`;
                    case "path":
                        return acc + `/${chunk.value}`;
                }
            }, "");
            return { value: error.value, formattedPath };
        })
            .map(({ value, formattedPath }) => `\tPATH: ${formattedPath}\n\tVALUE: ${JSON.stringify(value)}`)
            .join("\n\n");
        return `Invalid Paths:\n  ${invalidPaths}`;
    },
};
exports.default = ErrorsHandler;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZXJyb3JzLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL3V0aWxzL2Vycm9ycy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQU9BLE1BQU0sYUFBYSxHQUFHO0lBQ3BCLE1BQU0sQ0FBQyxNQUFjO1FBQ25CLE1BQU0sWUFBWSxHQUFXLE1BQU07YUFDaEMsR0FBRyxDQUE0QyxDQUFDLEtBQUssRUFBRSxFQUFFO1lBQ3hELE1BQU0sS0FBSyxHQUFHLEtBQUssQ0FBQyxPQUFPO2lCQUN4QixHQUFHLENBQUMsQ0FBQyxFQUFFLEdBQUcsRUFBRSxFQUFFLEVBQUUsQ0FBQyxHQUFHLENBQUM7aUJBQ3JCLE1BQU0sQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQyxLQUFLLEVBQUUsQ0FBQyxDQUFDO1lBQzNCLE1BQU0sY0FBYyxHQUFlLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRTtnQkFDakQsTUFBTSxLQUFLLEdBQUcsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDO2dCQUMxQixJQUFJLEtBQUssQ0FBQyxLQUFLLENBQUMsRUFBRTtvQkFDaEIsT0FBTzt3QkFDTCxJQUFJLEVBQUUsTUFBTTt3QkFDWixLQUFLLEVBQUUsQ0FBQztxQkFDRyxDQUFDO2lCQUNmO3FCQUFNO29CQUNMLE9BQU87d0JBQ0wsSUFBSSxFQUFFLE9BQU87d0JBQ2IsS0FBSyxFQUFFLEtBQUssQ0FBQyxRQUFRLEVBQUU7cUJBQ1osQ0FBQztpQkFDZjtZQUNILENBQUMsQ0FBQyxDQUFDO1lBRUgsTUFBTSxhQUFhLEdBQUcsY0FBYyxDQUFDLE1BQU0sQ0FDekMsQ0FBQyxHQUFXLEVBQUUsS0FBZSxFQUFFLEVBQUU7Z0JBQy9CLFFBQVEsS0FBSyxDQUFDLElBQUksRUFBRTtvQkFDbEIsS0FBSyxPQUFPO3dCQUNWLE9BQU8sR0FBRyxHQUFHLElBQUksS0FBSyxDQUFDLEtBQUssR0FBRyxDQUFDO29CQUNsQyxLQUFLLE1BQU07d0JBQ1QsT0FBTyxHQUFHLEdBQUcsSUFBSSxLQUFLLENBQUMsS0FBSyxFQUFFLENBQUM7aUJBQ2xDO1lBQ0gsQ0FBQyxFQUNELEVBQUUsQ0FDSCxDQUFDO1lBRUYsT0FBTyxFQUFFLEtBQUssRUFBRSxLQUFLLENBQUMsS0FBSyxFQUFFLGFBQWEsRUFBRSxDQUFDO1FBQy9DLENBQUMsQ0FBQzthQUNELEdBQUcsQ0FDRixDQUFDLEVBQUUsS0FBSyxFQUFFLGFBQWEsRUFBRSxFQUFFLEVBQUUsQ0FDM0IsV0FBVyxhQUFhLGNBQWMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsRUFBRSxDQUNoRTthQUNBLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUVoQixPQUFPLHFCQUFxQixZQUFZLEVBQUUsQ0FBQztJQUM3QyxDQUFDO0NBQ0YsQ0FBQztBQUVGLGtCQUFlLGFBQWEsQ0FBQyJ9