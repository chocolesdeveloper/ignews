"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.resolvePathsToMock = exports.createPathToMock = void 0;
const path_1 = __importDefault(require("path"));
const Either_1 = require("fp-ts/Either");
const node_utils_1 = require("../node-utils");
const models_1 = require("../models");
function createPathToMock({ path: filePath, from, sliceName, }) {
    return path_1.default.join(filePath, from, sliceName, "mocks.json");
}
exports.createPathToMock = createPathToMock;
function resolvePathsToMock({ paths, from, sliceName, }) {
    const possiblePaths = paths.map((base) => createPathToMock({ path: base, from, sliceName }));
    return node_utils_1.Files.readFirstOf(possiblePaths)((v) => {
        const res = models_1.SliceMock.decode(JSON.parse(v));
        if ((0, Either_1.isRight)(res)) {
            return res.right;
        }
    });
}
exports.resolvePathsToMock = resolvePathsToMock;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW9ja3MuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvbGlicmFyaWVzL21vY2tzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLGdEQUF3QjtBQUN4Qix5Q0FBdUM7QUFFdkMsOENBQXNDO0FBQ3RDLHNDQUFzQztBQUV0QyxTQUFnQixnQkFBZ0IsQ0FBQyxFQUMvQixJQUFJLEVBQUUsUUFBUSxFQUNkLElBQUksRUFDSixTQUFTLEdBS1Y7SUFDQyxPQUFPLGNBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxFQUFFLElBQUksRUFBRSxTQUFTLEVBQUUsWUFBWSxDQUFDLENBQUM7QUFDNUQsQ0FBQztBQVZELDRDQVVDO0FBRUQsU0FBZ0Isa0JBQWtCLENBQUMsRUFDakMsS0FBSyxFQUNMLElBQUksRUFDSixTQUFTLEdBS1Y7SUFDQyxNQUFNLGFBQWEsR0FBRyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUMsSUFBSSxFQUFFLEVBQUUsQ0FDdkMsZ0JBQWdCLENBQUMsRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxTQUFTLEVBQUUsQ0FBQyxDQUNsRCxDQUFDO0lBQ0YsT0FBTyxrQkFBSyxDQUFDLFdBQVcsQ0FBd0IsYUFBYSxDQUFDLENBQzVELENBQUMsQ0FBUyxFQUFFLEVBQUU7UUFDWixNQUFNLEdBQUcsR0FBRyxrQkFBUyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDNUMsSUFBSSxJQUFBLGdCQUFPLEVBQUMsR0FBRyxDQUFDLEVBQUU7WUFDaEIsT0FBTyxHQUFHLENBQUMsS0FBSyxDQUFDO1NBQ2xCO0lBQ0gsQ0FBQyxDQUNGLENBQUM7QUFDSixDQUFDO0FBcEJELGdEQW9CQyJ9