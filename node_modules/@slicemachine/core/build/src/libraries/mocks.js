"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.resolvePathsToMock = exports.createPathToMock = void 0;
const path_1 = __importDefault(require("path"));
const Either_1 = require("fp-ts/Either");
const utils_1 = require("../utils");
const Slice_1 = require("../models/Slice");
function createPathToMock({ path: filePath, from, sliceName, }) {
    return path_1.default.join(filePath, from, sliceName, "mocks.json");
}
exports.createPathToMock = createPathToMock;
function resolvePathsToMock({ paths, from, sliceName, }) {
    const possiblePaths = paths.map((base) => createPathToMock({ path: base, from, sliceName }));
    return utils_1.Files.readFirstOf(possiblePaths)((v) => {
        const res = Slice_1.SliceMock.decode(JSON.parse(v));
        if ((0, Either_1.isRight)(res)) {
            return res.right;
        }
    });
}
exports.resolvePathsToMock = resolvePathsToMock;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW9ja3MuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi9zcmMvbGlicmFyaWVzL21vY2tzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLGdEQUF3QjtBQUN4Qix5Q0FBdUM7QUFFdkMsb0NBQWlDO0FBQ2pDLDJDQUE0QztBQUU1QyxTQUFnQixnQkFBZ0IsQ0FBQyxFQUMvQixJQUFJLEVBQUUsUUFBUSxFQUNkLElBQUksRUFDSixTQUFTLEdBS1Y7SUFDQyxPQUFPLGNBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxFQUFFLElBQUksRUFBRSxTQUFTLEVBQUUsWUFBWSxDQUFDLENBQUM7QUFDNUQsQ0FBQztBQVZELDRDQVVDO0FBRUQsU0FBZ0Isa0JBQWtCLENBQUMsRUFDakMsS0FBSyxFQUNMLElBQUksRUFDSixTQUFTLEdBS1Y7SUFDQyxNQUFNLGFBQWEsR0FBRyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUMsSUFBSSxFQUFFLEVBQUUsQ0FDdkMsZ0JBQWdCLENBQUMsRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxTQUFTLEVBQUUsQ0FBQyxDQUNsRCxDQUFDO0lBQ0YsT0FBTyxhQUFLLENBQUMsV0FBVyxDQUF3QixhQUFhLENBQUMsQ0FDNUQsQ0FBQyxDQUFTLEVBQUUsRUFBRTtRQUNaLE1BQU0sR0FBRyxHQUFHLGlCQUFTLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUM1QyxJQUFJLElBQUEsZ0JBQU8sRUFBQyxHQUFHLENBQUMsRUFBRTtZQUNoQixPQUFPLEdBQUcsQ0FBQyxLQUFLLENBQUM7U0FDbEI7SUFDSCxDQUFDLENBQ0YsQ0FBQztBQUNKLENBQUM7QUFwQkQsZ0RBb0JDIn0=