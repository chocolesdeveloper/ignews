"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const react_1 = require("react");
const formik_1 = require("formik");
const _1 = require("./");
const SelectDefaultValue = ({ field, meta, helpers }) => {
    const [isChecked, setCheck] = react_1.useState(field.defaultValue || false);
    const { values: { options }, } = formik_1.useFormikContext();
    react_1.useEffect(() => {
        if (isChecked && options.length) {
            helpers.setValue(options[0]);
        }
        else {
            helpers.setValue("");
        }
    }, [isChecked]);
    react_1.useEffect(() => {
        if (isChecked) {
            helpers.setValue(options[0]);
        }
    }, [options]);
    return (<_1.FormFieldCheckbox meta={meta} onChange={setCheck} label={`use first value as default ${options.length ? `("${options[0]}")` : ""}`}/>);
};
exports.default = SelectDefaultValue;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiU2VsZWN0RGVmYXVsdFZhbHVlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vY29tcG9uZW50cy9Gb3JtRmllbGRzL1NlbGVjdERlZmF1bHRWYWx1ZS5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLGlDQUE0QztBQUM1QyxtQ0FBMEM7QUFFMUMseUJBQXVDO0FBRXZDLE1BQU0sa0JBQWtCLEdBQUcsQ0FBQyxFQUFFLEtBQUssRUFBRSxJQUFJLEVBQUUsT0FBTyxFQUFFLEVBQUUsRUFBRTtJQUV0RCxNQUFNLENBQUMsU0FBUyxFQUFFLFFBQVEsQ0FBQyxHQUFHLGdCQUFRLENBQUMsS0FBSyxDQUFDLFlBQVksSUFBSSxLQUFLLENBQUMsQ0FBQztJQUNwRSxNQUFNLEVBRUosTUFBTSxFQUFFLEVBQUUsT0FBTyxFQUFFLEdBQ3BCLEdBQUcseUJBQWdCLEVBQUUsQ0FBQztJQUV2QixpQkFBUyxDQUFDLEdBQUcsRUFBRTtRQUViLElBQUksU0FBUyxJQUFJLE9BQU8sQ0FBQyxNQUFNLEVBQUU7WUFFL0IsT0FBTyxDQUFDLFFBQVEsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztTQUM5QjthQUFNO1lBRUwsT0FBTyxDQUFDLFFBQVEsQ0FBQyxFQUFFLENBQUMsQ0FBQztTQUN0QjtJQUNILENBQUMsRUFBRSxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUM7SUFFaEIsaUJBQVMsQ0FBQyxHQUFHLEVBQUU7UUFDYixJQUFJLFNBQVMsRUFBRTtZQUViLE9BQU8sQ0FBQyxRQUFRLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7U0FDOUI7SUFDSCxDQUFDLEVBQUUsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDO0lBRWQsT0FBTyxDQUNMLENBQUMsb0JBQWlCLENBRWhCLElBQUksQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUNYLFFBQVEsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxDQUNuQixLQUFLLENBQUMsQ0FBQyw4QkFFTCxPQUFPLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxLQUFLLE9BQU8sQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUN6QyxFQUFFLENBQUMsRUFDSCxDQUNILENBQUM7QUFDSixDQUFDLENBQUM7QUFFRixrQkFBZSxrQkFBa0IsQ0FBQyJ9