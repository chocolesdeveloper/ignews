"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const react_1 = require("react");
const formik_1 = require("formik");
const _1 = require("./");
const CheckboxControl = ({ field, helpers, label, defaultValue, onChange, getFieldControl, setControlFromField, }) => {
    const { values } = formik_1.useFormikContext();
    const fieldControl = getFieldControl(values);
    const [isChecked, setCheck] = react_1.useState(defaultValue || field.defaultValue || false);
    react_1.useEffect(() => {
        helpers.setValue(setControlFromField
            ?
                setControlFromField(fieldControl, isChecked)
            : fieldControl);
    }, [isChecked, fieldControl]);
    return (<_1.FormFieldCheckbox meta={{
            value: isChecked,
        }} fieldName={field.name} onChange={(value) => setCheck(value) && onChange && onChange(value)} label={typeof label === "function" ? label(fieldControl, isChecked) : label}/>);
};
exports.default = CheckboxControl;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQ2hlY2tib3hDb250cm9sLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vY29tcG9uZW50cy9Gb3JtRmllbGRzL0NoZWNrYm94Q29udHJvbC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLGlDQUE0QztBQUM1QyxtQ0FBMEM7QUFFMUMseUJBQXVDO0FBRXZDLE1BQU0sZUFBZSxHQUFHLENBQUMsRUFDdkIsS0FBSyxFQUNMLE9BQU8sRUFDUCxLQUFLLEVBQ0wsWUFBWSxFQUNaLFFBQVEsRUFDUixlQUFlLEVBQ2YsbUJBQW1CLEdBQ3BCLEVBQUUsRUFBRTtJQUVILE1BQU0sRUFBRSxNQUFNLEVBQUUsR0FBRyx5QkFBZ0IsRUFBRSxDQUFDO0lBRXRDLE1BQU0sWUFBWSxHQUFHLGVBQWUsQ0FBQyxNQUFNLENBQUMsQ0FBQztJQUU3QyxNQUFNLENBQUMsU0FBUyxFQUFFLFFBQVEsQ0FBQyxHQUFHLGdCQUFRLENBRXBDLFlBQVksSUFBSSxLQUFLLENBQUMsWUFBWSxJQUFJLEtBQUssQ0FDNUMsQ0FBQztJQUVGLGlCQUFTLENBQUMsR0FBRyxFQUFFO1FBRWIsT0FBTyxDQUFDLFFBQVEsQ0FDZCxtQkFBbUI7WUFDakIsQ0FBQztnQkFDQyxtQkFBbUIsQ0FBQyxZQUFZLEVBQUUsU0FBUyxDQUFDO1lBQzlDLENBQUMsQ0FBQyxZQUFZLENBQ2pCLENBQUM7SUFDSixDQUFDLEVBQUUsQ0FBQyxTQUFTLEVBQUUsWUFBWSxDQUFDLENBQUMsQ0FBQztJQUU5QixPQUFPLENBQ0wsQ0FBQyxvQkFBaUIsQ0FDaEIsSUFBSSxDQUFDLENBQUM7WUFFSixLQUFLLEVBQUUsU0FBUztTQUNqQixDQUFDLENBRUYsU0FBUyxDQUFDLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxDQUV0QixRQUFRLENBQUMsQ0FBQyxDQUFDLEtBQUssRUFBRSxFQUFFLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQyxJQUFJLFFBQVEsSUFBSSxRQUFRLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FDcEUsS0FBSyxDQUFDLENBRUosT0FBTyxLQUFLLEtBQUssVUFBVSxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsWUFBWSxFQUFFLFNBQVMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQ3JFLEVBQ0QsQ0FDSCxDQUFDO0FBQ0osQ0FBQyxDQUFDO0FBRUYsa0JBQWUsZUFBZSxDQUFDIn0=