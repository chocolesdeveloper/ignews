"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.insert = exports.writeConfig = exports.getConfig = void 0;
const files_1 = __importDefault(require("../../utils/files"));
const paths_1 = require("../../models/paths");
const getConfig = (cwd) => {
    const pathToMockConfig = paths_1.MocksConfig(cwd);
    if (files_1.default.exists(pathToMockConfig)) {
        return files_1.default.readJson(pathToMockConfig);
    }
    return {};
};
exports.getConfig = getConfig;
const writeConfig = (cwd, config) => {
    files_1.default.write(paths_1.MocksConfig(cwd), config);
};
exports.writeConfig = writeConfig;
const insert = (cwd, { key, prefix = null, value, }) => {
    const config = exports.getConfig(cwd);
    const withInsert = {
        ...config,
        ...(prefix
            ? {
                [prefix]: {
                    ...config[prefix],
                    [key]: value,
                },
            }
            : {
                [key]: value,
            }),
    };
    exports.writeConfig(cwd, withInsert);
    return withInsert;
};
exports.insert = insert;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZnMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9saWIvbW9jay9taXNjL2ZzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLDhEQUFzQztBQUN0Qyw4Q0FBaUQ7QUFFMUMsTUFBTSxTQUFTLEdBQUcsQ0FBQyxHQUFXLEVBQUUsRUFBRTtJQUN2QyxNQUFNLGdCQUFnQixHQUFHLG1CQUFXLENBQUMsR0FBRyxDQUFDLENBQUM7SUFDMUMsSUFBSSxlQUFLLENBQUMsTUFBTSxDQUFDLGdCQUFnQixDQUFDLEVBQUU7UUFFbEMsT0FBTyxlQUFLLENBQUMsUUFBUSxDQUFDLGdCQUFnQixDQUFDLENBQUM7S0FDekM7SUFDRCxPQUFPLEVBQUUsQ0FBQztBQUNaLENBQUMsQ0FBQztBQVBXLFFBQUEsU0FBUyxhQU9wQjtBQUdLLE1BQU0sV0FBVyxHQUFHLENBQUMsR0FBVyxFQUFFLE1BQVcsRUFBRSxFQUFFO0lBRXRELGVBQUssQ0FBQyxLQUFLLENBQUMsbUJBQVcsQ0FBQyxHQUFHLENBQUMsRUFBRSxNQUFNLENBQUMsQ0FBQztBQUN4QyxDQUFDLENBQUM7QUFIVyxRQUFBLFdBQVcsZUFHdEI7QUFFSyxNQUFNLE1BQU0sR0FBRyxDQUNwQixHQUFXLEVBQ1gsRUFDRSxHQUFHLEVBQ0gsTUFBTSxHQUFHLElBQUksRUFDYixLQUFLLEdBRTJDLEVBQ2xELEVBQUU7SUFFRixNQUFNLE1BQU0sR0FBRyxpQkFBUyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBRTlCLE1BQU0sVUFBVSxHQUFHO1FBQ2pCLEdBQUcsTUFBTTtRQUNULEdBQUcsQ0FBQyxNQUFNO1lBQ1IsQ0FBQyxDQUFDO2dCQUVFLENBQUMsTUFBTSxDQUFDLEVBQUU7b0JBRVIsR0FBRyxNQUFNLENBQUMsTUFBTSxDQUFDO29CQUVqQixDQUFDLEdBQUcsQ0FBQyxFQUFFLEtBQUs7aUJBQ2I7YUFDRjtZQUNILENBQUMsQ0FBQztnQkFFRSxDQUFDLEdBQUcsQ0FBQyxFQUFFLEtBQUs7YUFDYixDQUFDO0tBQ1AsQ0FBQztJQUVGLG1CQUFXLENBQUMsR0FBRyxFQUFFLFVBQVUsQ0FBQyxDQUFDO0lBRTdCLE9BQU8sVUFBVSxDQUFDO0FBQ3BCLENBQUMsQ0FBQztBQWpDVyxRQUFBLE1BQU0sVUFpQ2pCIn0=