"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const react_1 = require("react");
const react_modal_1 = __importDefault(require("react-modal"));
const SliceMachineModal_1 = __importDefault(require("@components/SliceMachineModal"));
const formik_1 = require("formik");
const theme_ui_1 = require("theme-ui");
const Flex_1 = require("components/Flex");
const index_1 = __importDefault(require("@components/Card/WithTabs/index"));
const FORM_ID = "metadata-modal-form";
const InputBox = ({ name, label, placeholder }) => (<theme_ui_1.Box mb={2}>
    <theme_ui_1.Label htmlFor={name} mb={1}>
      {label}
    </theme_ui_1.Label>
    <formik_1.Field name={name} type="text" placeholder={placeholder} as={theme_ui_1.Input}/>
  </theme_ui_1.Box>);
const MetaDataModal = ({ close, isOpen, Model }) => {
    react_modal_1.default.setAppElement("#__next");
    const onUpdateField = (value) => {
        store.updateMetadata(Model, value);
        close();
    };
    return (<SliceMachineModal_1.default isOpen={isOpen} shouldCloseOnOverlayClick onRequestClose={close} contentLabel="MetaData Form Modal">
      <formik_1.Formik validateOnChange initialValues={Model.meta} onSubmit={(values, _) => {
            onUpdateField(values);
        }}>
        {(props) => {
            const { values, errors, isValid, isSubmitting } = props;
            return (<formik_1.Form id={FORM_ID}>
              <index_1.default HeaderContent={<theme_ui_1.Heading as="h3">Update MetaData</theme_ui_1.Heading>} FooterContent={<react_1.Fragment>
                    <theme_ui_1.Button mr={2} type="button" onClick={close} variant="secondary">
                      Cancel
                    </theme_ui_1.Button>
                    <theme_ui_1.Button form={FORM_ID} type="submit" disabled={!isValid || isSubmitting}>
                      Save
                    </theme_ui_1.Button>
                  </react_1.Fragment>}>
                <Flex_1.Flex>
                  <Flex_1.Col>
                    <InputBox name="sliceName" label="Slice Name" placeholder="Name of your slice"/>
                    <InputBox name="description" label="Slice description" placeholder="Description of your slice"/>
                  </Flex_1.Col>
                  <Flex_1.Col>
                    <InputBox name="id" label="Slice id" placeholder="ID of your slice"/>
                  </Flex_1.Col>
                </Flex_1.Flex>
              </index_1.default>
            </formik_1.Form>);
        }}
      </formik_1.Formik>
    </SliceMachineModal_1.default>);
};
exports.default = MetaDataModal;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiTWV0YURhdGEuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi9saWIvYnVpbGRlcnMvU2xpY2VCdWlsZGVyL0hlYWRlci9NZXRhRGF0YS5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7OztBQUNBLGlDQUFpQztBQUNqQyw4REFBZ0M7QUFDaEMsc0ZBQThEO0FBRTlELG1DQUE2QztBQUU3Qyx1Q0FBOEQ7QUFFOUQsMENBQXdEO0FBRXhELDRFQUFtRDtBQUVuRCxNQUFNLE9BQU8sR0FBRyxxQkFBcUIsQ0FBQztBQUV0QyxNQUFNLFFBQVEsR0FBRyxDQUFDLEVBQUUsSUFBSSxFQUFFLEtBQUssRUFBRSxXQUFXLEVBQUUsRUFBRSxFQUFFLENBQUMsQ0FDakQsQ0FBQyxjQUFHLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQ1Q7SUFBQSxDQUFDLGdCQUFLLENBRUosT0FBTyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQ2QsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBRU47TUFBQSxDQUFDLEtBQUssQ0FDUjtJQUFBLEVBQUUsZ0JBQUssQ0FDUDtJQUFBLENBQUMsY0FBSyxDQUVKLElBQUksQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUNYLElBQUksQ0FBQyxNQUFNLENBQ1gsV0FBVyxDQUFDLENBQUMsV0FBVyxDQUFDLENBQ3pCLEVBQUUsQ0FBQyxDQUFDLGdCQUFLLENBQUMsRUFFZDtFQUFBLEVBQUUsY0FBRyxDQUFDLENBQ1AsQ0FBQztBQUVGLE1BQU0sYUFBYSxHQUFHLENBQUMsRUFBRSxLQUFLLEVBQUUsTUFBTSxFQUFFLEtBQUssRUFBRSxFQUFFLEVBQUU7SUFDakQscUJBQUssQ0FBQyxhQUFhLENBQUMsU0FBUyxDQUFDLENBQUM7SUFFL0IsTUFBTSxhQUFhLEdBQUcsQ0FBQyxLQUFLLEVBQUUsRUFBRTtRQUU5QixLQUFLLENBQUMsY0FBYyxDQUFDLEtBQUssRUFBRSxLQUFLLENBQUMsQ0FBQztRQUVuQyxLQUFLLEVBQUUsQ0FBQztJQUNWLENBQUMsQ0FBQztJQUVGLE9BQU8sQ0FDTCxDQUFDLDJCQUFpQixDQUVoQixNQUFNLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FDZix5QkFBeUIsQ0FFekIsY0FBYyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQ3RCLFlBQVksQ0FBQyxxQkFBcUIsQ0FFbEM7TUFBQSxDQUFDLGVBQU0sQ0FDTCxnQkFBZ0IsQ0FFaEIsYUFBYSxDQUFDLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxDQUUxQixRQUFRLENBQUMsQ0FBQyxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBRTtZQUN0QixhQUFhLENBQUMsTUFBTSxDQUFDLENBQUM7UUFDeEIsQ0FBQyxDQUFDLENBRUY7UUFBQSxDQUFDLENBQUMsS0FBSyxFQUFFLEVBQUU7WUFFVCxNQUFNLEVBQUUsTUFBTSxFQUFFLE1BQU0sRUFBRSxPQUFPLEVBQUUsWUFBWSxFQUFFLEdBQUcsS0FBSyxDQUFDO1lBQ3hELE9BQU8sQ0FDTCxDQUFDLGFBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQyxPQUFPLENBQUMsQ0FDaEI7Y0FBQSxDQUFDLGVBQUksQ0FDSCxhQUFhLENBQUMsQ0FBQyxDQUFDLGtCQUFPLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxlQUFlLEVBQUUsa0JBQU8sQ0FBQyxDQUFDLENBQzFELGFBQWEsQ0FBQyxDQUNaLENBQUMsZ0JBQVEsQ0FDUDtvQkFBQSxDQUFDLGlCQUFNLENBQ0wsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQ04sSUFBSSxDQUFDLFFBQVEsQ0FFYixPQUFPLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FDZixPQUFPLENBQUMsV0FBVyxDQUVuQjs7b0JBQ0YsRUFBRSxpQkFBTSxDQUNSO29CQUFBLENBQUMsaUJBQU0sQ0FDTCxJQUFJLENBQUMsQ0FBQyxPQUFPLENBQUMsQ0FDZCxJQUFJLENBQUMsUUFBUSxDQUNiLFFBQVEsQ0FBQyxDQUFDLENBQUMsT0FBTyxJQUFJLFlBQVksQ0FBQyxDQUVuQzs7b0JBQ0YsRUFBRSxpQkFBTSxDQUNWO2tCQUFBLEVBQUUsZ0JBQVEsQ0FBQyxDQUNaLENBRUQ7Z0JBQUEsQ0FBQyxXQUFRLENBQ1A7a0JBQUEsQ0FBQyxVQUFHLENBQ0Y7b0JBQUEsQ0FBQyxRQUFRLENBQ1AsSUFBSSxDQUFDLFdBQVcsQ0FDaEIsS0FBSyxDQUFDLFlBQVksQ0FDbEIsV0FBVyxDQUFDLG9CQUFvQixFQUVsQztvQkFBQSxDQUFDLFFBQVEsQ0FDUCxJQUFJLENBQUMsYUFBYSxDQUNsQixLQUFLLENBQUMsbUJBQW1CLENBQ3pCLFdBQVcsQ0FBQywyQkFBMkIsRUFFM0M7a0JBQUEsRUFBRSxVQUFHLENBQ0w7a0JBQUEsQ0FBQyxVQUFHLENBQ0Y7b0JBQUEsQ0FBQyxRQUFRLENBQ1AsSUFBSSxDQUFDLElBQUksQ0FDVCxLQUFLLENBQUMsVUFBVSxDQUNoQixXQUFXLENBQUMsa0JBQWtCLEVBRWxDO2tCQUFBLEVBQUUsVUFBRyxDQUNQO2dCQUFBLEVBQUUsV0FBUSxDQUNaO2NBQUEsRUFBRSxlQUFJLENBQ1I7WUFBQSxFQUFFLGFBQUksQ0FBQyxDQUNSLENBQUM7UUFDSixDQUFDLENBQ0g7TUFBQSxFQUFFLGVBQU0sQ0FDVjtJQUFBLEVBQUUsMkJBQWlCLENBQUMsQ0FDckIsQ0FBQztBQUNKLENBQUMsQ0FBQztBQUVGLGtCQUFlLGFBQWEsQ0FBQyJ9