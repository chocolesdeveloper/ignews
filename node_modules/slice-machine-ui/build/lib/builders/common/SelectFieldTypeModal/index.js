"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const react_modal_1 = __importDefault(require("react-modal"));
const SliceMachineModal_1 = __importDefault(require("@components/SliceMachineModal"));
const theme_ui_1 = require("theme-ui");
const Card_1 = __importDefault(require("components/Card"));
const Flex_1 = require("components/Flex");
const FieldTypeCard_1 = __importDefault(require("./FieldTypeCard"));
if (process.env.NODE_ENV !== "test") {
    react_modal_1.default.setAppElement("#__next");
}
const SelectFieldTypeModal = ({ data, close, onSelect, widgetsArray }) => {
    if (!data.isOpen) {
        return null;
    }
    return (<SliceMachineModal_1.default isOpen shouldCloseOnOverlayClick onRequestClose={close} contentLabel="Widget Form Modal">
      <Card_1.default borderFooter footerSx={{ p: 3 }} bodySx={{ pt: 2, pb: 4, px: 4 }} sx={{ border: "none" }} Header={({ radius }) => (<theme_ui_1.Flex sx={{
                p: 3,
                pl: 4,
                bg: "headSection",
                alignItems: "center",
                justifyContent: "space-between",
                borderTopLeftRadius: radius,
                borderTopRightRadius: radius,
                borderBottom: (t) => { var _a; return `1px solid ${(_a = t.colors) === null || _a === void 0 ? void 0 : _a.borders}`; },
            }}>
            <theme_ui_1.Heading>Add a new field</theme_ui_1.Heading>

            <theme_ui_1.Close onClick={close}/>
          </theme_ui_1.Flex>)}>
        <Flex_1.Flex>
          {widgetsArray
            .filter((e) => e)
            .map((widget) => {
            const { Meta, TYPE_NAME, CUSTOM_NAME } = widget;
            return (<Flex_1.Col key={CUSTOM_NAME || TYPE_NAME}>
                    <FieldTypeCard_1.default {...Meta} onSelect={() => onSelect(CUSTOM_NAME || TYPE_NAME)}/>
                  </Flex_1.Col>);
        })}
        </Flex_1.Flex>
      </Card_1.default>
    </SliceMachineModal_1.default>);
};
exports.default = SelectFieldTypeModal;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi9saWIvYnVpbGRlcnMvY29tbW9uL1NlbGVjdEZpZWxkVHlwZU1vZGFsL2luZGV4LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7O0FBQUEsOERBQWdDO0FBQ2hDLHNGQUE4RDtBQUU5RCx1Q0FBZ0Q7QUFFaEQsMkRBQW1DO0FBQ25DLDBDQUF3RDtBQUV4RCxvRUFBNEM7QUFFNUMsSUFBSSxPQUFPLENBQUMsR0FBRyxDQUFDLFFBQVEsS0FBSyxNQUFNLEVBQUU7SUFDbkMscUJBQUssQ0FBQyxhQUFhLENBQUMsU0FBUyxDQUFDLENBQUM7Q0FDaEM7QUFFRCxNQUFNLG9CQUFvQixHQUFHLENBQUMsRUFBRSxJQUFJLEVBQUUsS0FBSyxFQUFFLFFBQVEsRUFBRSxZQUFZLEVBQUUsRUFBRSxFQUFFO0lBRXZFLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFFO1FBQ2hCLE9BQU8sSUFBSSxDQUFDO0tBQ2I7SUFDRCxPQUFPLENBQ0wsQ0FBQywyQkFBaUIsQ0FDaEIsTUFBTSxDQUNOLHlCQUF5QixDQUV6QixjQUFjLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FDdEIsWUFBWSxDQUFDLG1CQUFtQixDQUVoQztNQUFBLENBQUMsY0FBSSxDQUNILFlBQVksQ0FDWixRQUFRLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUNuQixNQUFNLENBQUMsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FDaEMsRUFBRSxDQUFDLENBQUMsRUFBRSxNQUFNLEVBQUUsTUFBTSxFQUFFLENBQUMsQ0FDdkIsTUFBTSxDQUFDLENBQUMsQ0FBQyxFQUFFLE1BQU0sRUFBRSxFQUFFLEVBQUUsQ0FBQyxDQUN0QixDQUFDLGVBQUksQ0FDSCxFQUFFLENBQUMsQ0FBQztnQkFDRixDQUFDLEVBQUUsQ0FBQztnQkFDSixFQUFFLEVBQUUsQ0FBQztnQkFDTCxFQUFFLEVBQUUsYUFBYTtnQkFDakIsVUFBVSxFQUFFLFFBQVE7Z0JBQ3BCLGNBQWMsRUFBRSxlQUFlO2dCQUMvQixtQkFBbUIsRUFBRSxNQUFNO2dCQUMzQixvQkFBb0IsRUFBRSxNQUFNO2dCQUU1QixZQUFZLEVBQUUsQ0FBQyxDQUFDLEVBQUUsRUFBRSxXQUFDLE9BQUEsYUFBYSxNQUFBLENBQUMsQ0FBQyxNQUFNLDBDQUFFLE9BQU8sRUFBRSxDQUFBLEVBQUE7YUFDdEQsQ0FBQyxDQUVGO1lBQUEsQ0FBQyxrQkFBTyxDQUFDLGVBQWUsRUFBRSxrQkFBTyxDQUVqQzs7WUFBQSxDQUFDLGdCQUFLLENBQ0osT0FBTyxDQUFDLENBQUMsS0FBSyxDQUFDLEVBRW5CO1VBQUEsRUFBRSxlQUFJLENBQUMsQ0FDUixDQUFDLENBRUY7UUFBQSxDQUFDLFdBQVEsQ0FDUDtVQUFBLENBRUUsWUFBWTthQUVULE1BQU0sQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQyxDQUFDO2FBQ2hCLEdBQUcsQ0FBQyxDQUFDLE1BQU0sRUFBRSxFQUFFO1lBRWQsTUFBTSxFQUFFLElBQUksRUFBRSxTQUFTLEVBQUUsV0FBVyxFQUFFLEdBQUcsTUFBTSxDQUFDO1lBQ2hELE9BQU8sQ0FFTCxDQUFDLFVBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxXQUFXLElBQUksU0FBUyxDQUFDLENBQ2pDO29CQUFBLENBQUMsdUJBQWEsQ0FDWixJQUFJLElBQUksQ0FBQyxDQUVULFFBQVEsQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDLFFBQVEsQ0FBQyxXQUFXLElBQUksU0FBUyxDQUFDLENBQUMsRUFFdkQ7a0JBQUEsRUFBRSxVQUFHLENBQUMsQ0FDUCxDQUFDO1FBQ0osQ0FBQyxDQUFDLENBRVI7UUFBQSxFQUFFLFdBQVEsQ0FDWjtNQUFBLEVBQUUsY0FBSSxDQUNSO0lBQUEsRUFBRSwyQkFBaUIsQ0FBQyxDQUNyQixDQUFDO0FBQ0osQ0FBQyxDQUFDO0FBRUYsa0JBQWUsb0JBQW9CLENBQUMifQ==