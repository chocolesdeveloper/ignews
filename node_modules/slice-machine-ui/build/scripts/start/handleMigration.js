"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.handleMigration = void 0;
const node_utils_1 = require("@slicemachine/core/build/node-utils");
const migrate_1 = require("../migration/migrate");
async function handleMigration(cwd, manifest) {
    if (!node_utils_1.retrieveManifest(cwd).exists)
        return;
    try {
        await migrate_1.migrate({ cwd, ignorePromptForTest: false, manifest });
    }
    catch (e) {
        console.error("An error occurred while migrating file system. Continuing...");
        console.error(`Full error: ${JSON.stringify(e)}`);
        return;
    }
}
exports.handleMigration = handleMigration;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaGFuZGxlTWlncmF0aW9uLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vc2NyaXB0cy9zdGFydC9oYW5kbGVNaWdyYXRpb24udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBQUEsb0VBQXVFO0FBQ3ZFLGtEQUErQztBQUd4QyxLQUFLLFVBQVUsZUFBZSxDQUNuQyxHQUFXLEVBQ1gsUUFBa0I7SUFFbEIsSUFBSSxDQUFDLDZCQUFnQixDQUFDLEdBQUcsQ0FBQyxDQUFDLE1BQU07UUFBRSxPQUFPO0lBRTFDLElBQUk7UUFDRixNQUFNLGlCQUFPLENBQUMsRUFBRSxHQUFHLEVBQUUsbUJBQW1CLEVBQUUsS0FBSyxFQUFFLFFBQVEsRUFBRSxDQUFDLENBQUM7S0FDOUQ7SUFBQyxPQUFPLENBQVUsRUFBRTtRQUNuQixPQUFPLENBQUMsS0FBSyxDQUNYLDhEQUE4RCxDQUMvRCxDQUFDO1FBQ0YsT0FBTyxDQUFDLEtBQUssQ0FBQyxlQUFlLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBQ2xELE9BQU87S0FDUjtBQUNILENBQUM7QUFmRCwwQ0FlQyJ9