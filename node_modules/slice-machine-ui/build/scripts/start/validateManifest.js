"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.validateManifest = void 0;
const boxen_1 = __importDefault(require("boxen"));
const core_1 = require("@slicemachine/core");
const manifest_1 = require("../../lib/env/manifest");
const chalk_1 = __importDefault(require("chalk"));
function validateManifest(manifest) {
    if (manifest.state !== manifest_1.ManifestState.Valid) {
        console.log(boxen_1.default(`üî¥ A configuration error was detected!

Error Message:
"${manifest.message}"

See below for more info üëá`, { padding: 1, borderColor: "red" }));
        console.log("\n--- ‚ÑπÔ∏è  How to solve this: ---\n");
    }
    switch (manifest.state) {
        case manifest_1.ManifestState.Valid:
            return { isManifestValid: true };
        case manifest_1.ManifestState.NotFound: {
            console.log(`Run ${chalk_1.default.bold(`"${core_1.CONSTS.INIT_COMMAND}"`)} command to configure your project`);
            return { isManifestValid: false };
        }
        case manifest_1.ManifestState.InvalidJson: {
            console.log("Update your config file with a valid JSON structure.");
            return { isManifestValid: false };
        }
        default: {
            return { isManifestValid: true };
        }
    }
}
exports.validateManifest = validateManifest;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmFsaWRhdGVNYW5pZmVzdC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NjcmlwdHMvc3RhcnQvdmFsaWRhdGVNYW5pZmVzdC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxrREFBMEI7QUFDMUIsNkNBQTRDO0FBQzVDLHFEQUFxRTtBQUNyRSxrREFBMEI7QUFFMUIsU0FBZ0IsZ0JBQWdCLENBQUMsUUFBc0I7SUFHckQsSUFBSSxRQUFRLENBQUMsS0FBSyxLQUFLLHdCQUFhLENBQUMsS0FBSyxFQUFFO1FBQzFDLE9BQU8sQ0FBQyxHQUFHLENBQ1QsZUFBSyxDQUNIOzs7R0FHTCxRQUFRLENBQUMsT0FBTzs7MkJBRVEsRUFDbkIsRUFBRSxPQUFPLEVBQUUsQ0FBQyxFQUFFLFdBQVcsRUFBRSxLQUFLLEVBQUUsQ0FDbkMsQ0FDRixDQUFDO1FBRUYsT0FBTyxDQUFDLEdBQUcsQ0FBQyxvQ0FBb0MsQ0FBQyxDQUFDO0tBQ25EO0lBRUQsUUFBUSxRQUFRLENBQUMsS0FBSyxFQUFFO1FBQ3RCLEtBQUssd0JBQWEsQ0FBQyxLQUFLO1lBQ3RCLE9BQU8sRUFBRSxlQUFlLEVBQUUsSUFBSSxFQUFFLENBQUM7UUFFbkMsS0FBSyx3QkFBYSxDQUFDLFFBQVEsQ0FBQyxDQUFDO1lBQzNCLE9BQU8sQ0FBQyxHQUFHLENBQ1QsT0FBTyxlQUFLLENBQUMsSUFBSSxDQUNmLElBQUksYUFBTSxDQUFDLFlBQVksR0FBRyxDQUMzQixvQ0FBb0MsQ0FDdEMsQ0FBQztZQUVGLE9BQU8sRUFBRSxlQUFlLEVBQUUsS0FBSyxFQUFFLENBQUM7U0FDbkM7UUFFRCxLQUFLLHdCQUFhLENBQUMsV0FBVyxDQUFDLENBQUM7WUFDOUIsT0FBTyxDQUFDLEdBQUcsQ0FBQyxzREFBc0QsQ0FBQyxDQUFDO1lBQ3BFLE9BQU8sRUFBRSxlQUFlLEVBQUUsS0FBSyxFQUFFLENBQUM7U0FDbkM7UUFFRCxPQUFPLENBQUMsQ0FBQztZQUNQLE9BQU8sRUFBRSxlQUFlLEVBQUUsSUFBSSxFQUFFLENBQUM7U0FDbEM7S0FDRjtBQUNILENBQUM7QUExQ0QsNENBMENDIn0=