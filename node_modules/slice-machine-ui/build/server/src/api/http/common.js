"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.WithEnv = void 0;
const getEnv_1 = __importDefault(require("../services/getEnv"));
function WithEnv(handler) {
    return async function (req, res) {
        const { env, errors } = await getEnv_1.default();
        const reqWithEnv = (() => {
            const r = req;
            r.env = env;
            r.errors = errors;
            return r;
        })();
        return handler(reqWithEnv, res);
    };
}
exports.WithEnv = WithEnv;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29tbW9uLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vc2VydmVyL3NyYy9hcGkvaHR0cC9jb21tb24udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQ0EsZ0VBQXdDO0FBU3hDLFNBQWdCLE9BQU8sQ0FFckIsT0FBcUU7SUFFckUsT0FBTyxLQUFLLFdBQVcsR0FBb0IsRUFBRSxHQUFxQjtRQUNoRSxNQUFNLEVBQUUsR0FBRyxFQUFFLE1BQU0sRUFBRSxHQUFHLE1BQU0sZ0JBQU0sRUFBRSxDQUFDO1FBRXZDLE1BQU0sVUFBVSxHQUFHLENBQUMsR0FBRyxFQUFFO1lBRXZCLE1BQU0sQ0FBQyxHQUFHLEdBQVUsQ0FBQztZQUVyQixDQUFDLENBQUMsR0FBRyxHQUFHLEdBQUcsQ0FBQztZQUVaLENBQUMsQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDO1lBQ2xCLE9BQU8sQ0FBbUIsQ0FBQztRQUM3QixDQUFDLENBQUMsRUFBRSxDQUFDO1FBQ0wsT0FBTyxPQUFPLENBQUMsVUFBVSxFQUFFLEdBQUcsQ0FBQyxDQUFDO0lBQ2xDLENBQUMsQ0FBQztBQUNKLENBQUM7QUFsQkQsMEJBa0JDIn0=