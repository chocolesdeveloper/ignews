_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[26],{YnA2:function(e,t,n){"use strict";var o=n("nf+V"),r=n("nKUr");t.a=function(e){var t=e.Heading,n=e.Actions;return Object(r.jsxs)(o.h,{bg:"grey02",sx:{pl:3,pr:2,py:2,mb:2,borderRadius:"6px",alignItems:"center",minHeight:"51px",justifyContent:"space-between"},children:[Object(r.jsx)(o.h,{sx:{alignItems:"center"},children:t}),Object(r.jsx)(o.h,{sx:{alignItems:"center"},children:n})]})}},iYHI:function(e,t,n){"use strict";n.r(t);var o=n("q1tI"),r=n("izCF"),i=n("x36Y"),a=n("nf+V"),c=n("BO2T"),s=n("Y63D"),l=n("vC2i"),d=n("pmGY"),u=n("PCKl"),f=n("7oZo"),p=n("RcSD"),m=n("Q0Im"),b=n("vE9S"),h=n("nKUr"),v=function(e){var t=e.Model,n=e.store,o=e.variation,r=function(e){return function(r){n.variation(o.id).deleteWidgetMockConfig(t.mockConfig,e,r),n.variation(o.id).removeWidget(e,r)}},i=function(e){return function(n){var r=n.apiId;return m.b.getFieldMockConfig(t.mockConfig,o.id,e,r)}},v=function(e){return function(r){var i=r.apiId,a=r.newKey,c=r.value,s=r.mockValue;s?n.variation(o.id).updateWidgetMockConfig(t.mockConfig,e,i,a,s):n.variation(o.id).deleteWidgetMockConfig(t.mockConfig,e,a),n.variation(o.id).replaceWidget(e,i,a,c)}},j=function(e){return function(t){var r=t.id,i=t.widgetTypeName,a=f[i];a||console.log('Could not find widget with type name "'.concat(i,'". Please contact us!'));var c=Object(b.a)(r);n.variation(o.id).addWidget(e,r,a.create(c))}},O=function(e){return function(t){Object(c.d)(t)||n.variation(o.id).reorderWidget(e,t.source.index,t.destination&&t.destination.index)}};return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(l.a,{tabId:void 0,mockConfig:t.mockConfig,title:"Non-Repeatable Zone",dataTip:" The non-repeatable zone\n  is for fields<br/> that should appear once, like a<br/>\n  section title.\n",fields:o.primary,EditModal:d.a,widgetsArray:p.a,getFieldMockConfig:i(u.WidgetsArea.Primary),onDeleteItem:r(u.WidgetsArea.Primary),onSave:v(u.WidgetsArea.Primary),onSaveNewField:j(u.WidgetsArea.Primary),onDragEnd:O(u.WidgetsArea.Primary),poolOfFieldsToCheck:o.primary||[],renderHintBase:function(e){var t=e.item;return"slice.primary".concat(Object(s.b)(t.key))},renderFieldAccessor:function(e){return"slice.primary".concat(Object(s.b)(e))}}),Object(h.jsx)(a.b,{mt:4}),Object(h.jsx)(l.a,{tabId:void 0,isRepeatable:!0,mockConfig:t.mockConfig,title:"Repeatable Zone",dataTip:"The repeatable zone is for a group<br/>\n  of fields that you want to be able to repeat an<br/>\n  indeterminate number of times, like FAQs",widgetsArray:p.a,fields:o.items,EditModal:d.a,getFieldMockConfig:i(u.WidgetsArea.Items),onDeleteItem:r(u.WidgetsArea.Items),onSave:v(u.WidgetsArea.Items),onSaveNewField:j(u.WidgetsArea.Items),onDragEnd:O(u.WidgetsArea.Items),poolOfFieldsToCheck:o.items||[],renderHintBase:function(e){var t=e.item;return"item".concat(Object(s.b)(t.key))},renderFieldAccessor:function(e){return"slice.items[i]".concat(Object(s.b)(e))}})]})},j=n("cpVT"),O=n("dhJC"),g=["children","SideBar","sx"];function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){Object(j.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var S=function(e){var t=e.children,n=e.SideBar,o=e.sx,r=Object(O.a)(e,g);return Object(h.jsxs)(a.h,x(x({sx:x({display:"flex",flexWrap:"wrap",maxWidth:1224,mx:"auto",px:3,py:4},o)},r),{},{children:[Object(h.jsx)(a.b,{as:"main",sx:{flexGrow:99999,flexBasis:0,minWidth:320},children:t}),n]}))},w=n("YFqc"),C=n.n(w),E=n("paeT"),k=n("Xbde"),N=n("NIcq"),T=n("/MKj"),I=n("9MqM"),A=n("87Ox"),M=function(e){var t=e.src;return Object(h.jsx)(a.l,{src:t,alt:"Preview image"})},D=Object(o.memo)(M),P=function(e){var t=e.src,n=e.onScreenshot,r=e.imageLoading,i=e.onHandleFile,c=e.preventScreenshot,s=Object(o.useRef)(null),l=Object(T.useSelector)((function(e){return{isCheckingSetup:Object(I.a)(e,A.a.CHECK_SIMULATOR)}})).isCheckingSetup,d=Object(o.useState)(!1),u=d[0],f=d[1];return Object(h.jsxs)("div",{children:[Object(h.jsx)("input",{id:"input-file",type:"file",ref:s,style:{display:"none"},accept:k.c.map((function(e){return"image/".concat(e)})).join(","),onChange:function(e){var t,n;return n=null===(t=e.target.files)||void 0===t?void 0:t[0],void(null!==s&&void 0!==s&&s.current&&(n&&i(n),s.current.value=""))}}),Object(h.jsxs)(a.h,{sx:{position:"relative",alignItems:"center",justifyContent:"center",height:"290px",overflow:"hidden",backgroundImage:"url(/pattern.png)",backgroundColor:"headSection",backgroundRepeat:"repeat",backgroundSize:"20px",border:"1px solid #C9D0D8",boxShadow:"0px 8px 14px rgba(0, 0, 0, 0.1)",borderRadius:"4px"},onMouseEnter:function(){return f(!0)},onMouseLeave:function(){return f(!1)},children:[u||r||l?Object(h.jsx)(a.h,{sx:{width:"100%",height:"100%",position:"absolute",background:"rgba(0,0,0,.4)",alignItems:"center",justifyContent:"center",zIndex:"0"},children:u?Object(h.jsx)(o.Fragment,{children:Object(h.jsxs)(a.h,{sx:{flexDirection:"column"},children:[Object(h.jsx)(a.c,{sx:{mb:3},onClick:n,disabled:c,variant:c?"disabled":"primary",children:"Take screenshot"}),Object(h.jsx)(a.n,{htmlFor:"input-file",variant:"buttons.primary",sx:{p:2,borderRadius:"4px"},children:"Custom screenshot"})]})}):Object(h.jsx)(a.s,{})}):null,t?Object(h.jsx)(D,{src:t}):Object(h.jsxs)(a.t,{sx:{display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(h.jsx)(N.p,{}),"You have no screenshot yet."]})]})]})},F=n("20a2"),L=n("5baE"),R=n("fKyD");function H(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return U(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return U(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var o=0,r=function(){};return{s:r,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function U(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}var _=function(e){var t,n=e.libraryName,o=e.sliceName,r=e.variationId;return"".concat((t=n,t.toLowerCase().replace(/[ \u2019\u2013\u2014\u2015\u2032\xbf'`~!@#$%^&*()_|+\-=?;:'",.<>\{\}\[\]\\\/]/gi,"-").replace(/-+/g,"-").replace(/^-+/,"").replace(/-+$/,"")),"-").concat(o.toLowerCase(),"--").concat(function(e){var t,n="",o=!1,r=!1,i=!0,a=H(e);try{for(a.s();!(t=a.n()).done;){var c=t.value,s=c.toUpperCase()===c,l=!isNaN(c);!l||r||i?s&&!l&&(o||r)&&(n+="-"):n+="-",n+=c,o=!s,r=l,i=!1}}catch(d){a.e(d)}finally{a.f()}return n.replace(/-+/g,"-").toLowerCase()}(Object(s.a)(r).slice(1)))},W=function(e){var t=e.storybook,n=e.libraryName,o=e.sliceName,r=e.variationId;try{return new URL("/?path=/story/".concat(_({libraryName:n,sliceName:o,variationId:r})),t).toString()}catch(i){return t}},K=Object(o.memo)(P),B=function(e){var t=e.Model,n=e.variation,o=e.imageLoading,r=e.onScreenshot,i=e.onHandleFile,c=t.screenshotUrls,s=Object(L.a)().checkSimulatorSetup,l=Object(F.useRouter)(),d=Object(T.useSelector)((function(e){return{framework:Object(R.e)(e),linkToStorybookDocs:Object(R.h)(e),isCheckingSimulatorSetup:Object(I.a)(e,A.a.CHECK_SIMULATOR),isSimulatorAvailableForFramework:Object(R.o)(e),storybookUrl:Object(R.m)(e)}})),u=d.isCheckingSimulatorSetup,f=d.isSimulatorAvailableForFramework,p=d.linkToStorybookDocs,m=d.framework,b=d.storybookUrl;return Object(h.jsxs)(a.b,{sx:{pl:3,flexGrow:1,flexBasis:"sidebar"},children:[Object(h.jsx)(E.a,{bg:"headSection",bodySx:{p:0},footerSx:{p:0},children:Object(h.jsx)(K,{src:c&&c[n.id]&&c[n.id].url,imageLoading:o,onScreenshot:r,onHandleFile:i,preventScreenshot:!f})}),Object(h.jsx)(a.c,{"data-testid":"open-set-up-simulator",disabled:!f,onClick:function(){return s(!0,(function(){return window.open("".concat(l.asPath,"/simulator"))}))},variant:f?"secondary":"disabledSecondary",sx:{cursor:"pointer",width:"100%",mt:3},children:u?Object(h.jsx)(a.s,{size:12}):"Preview Slice"}),!f&&Object(h.jsxs)(a.t,{as:"p",sx:{textAlign:"center",mt:3,color:"grey05","::first-letter":{"text-transform":"uppercase"}},children:["Slice Simulator does not support ".concat(m||"your"," framework yet."),"\xa0",b?null:Object(h.jsxs)(h.Fragment,{children:["You can"," ",Object(h.jsx)("a",{target:"_blank",href:p,children:"install Storybook"})," ","instead."]})]}),b&&Object(h.jsx)(C.a,{href:W({storybook:b,libraryName:t.from,sliceName:t.model.name,variationId:n.id}),children:Object(h.jsx)(a.c,{variant:"secondary",sx:{width:"100%",mt:3},children:"Open Storybook"})})]})},V=n("z7pX"),Y=n("rg98"),z=n("vJKn"),G=n.n(z),X=n("HARG"),Q=n("KYPV"),Z=n("s3oF");function q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function J(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?q(Object(n),!0).forEach((function(t){Object(j.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var $=function(e){var t=e.children,n=e.FooterContent,o=e.HeaderContent,r=e.close,i=e.sx,c=void 0===i?{}:i,s=e.headerSx,l=void 0===s?{}:s;return Object(h.jsx)(E.a,{borderFooter:!0,footerSx:{p:0},bodySx:{pt:2,pb:4,px:4},sx:J({border:"none"},c),Header:function(e){var t=e.radius;return Object(h.jsxs)(a.h,{sx:J({p:3,pl:4,bg:"headSection",alignItems:"center",justifyContent:"space-between",borderTopLeftRadius:t,borderTopRightRadius:t,borderBottom:function(e){var t;return"1px solid ".concat(null===(t=e.colors)||void 0===t?void 0:t.borders)}},l),children:[o,r?Object(h.jsx)(a.f,{onClick:r,type:"button"}):null]})},Footer:n?Object(h.jsxs)(a.h,{sx:{alignItems:"space-between",bg:"headSection",p:3},children:[Object(h.jsx)(a.b,{sx:{ml:"auto"}}),n]}):null,children:t})},ee=n("y2Vs");function te(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function ne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?te(Object(n),!0).forEach((function(t){Object(j.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):te(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var oe=function(e){var t=e.msg;return Object(h.jsx)(a.t,{as:"span",sx:{fontSize:12,color:"error",mt:"5px",ml:2},children:t||"Error!"})},re=function(e){var t=e.isOpen,n=e.onClose,r=e.onSubmit,i=e.initialVariation,c=e.variations,s=Object(o.useState)({}),l=s[0],d=s[1],u=Object(o.useState)(""),f=u[0],p=u[1],m=Object(o.useState)(!0),b=m[0],v=m[1],j=Object(o.useState)(""),O=j[0],g=j[1],y=Object(o.useState)({value:i.id,label:i.name}),x=y[0],S=y[1];function w(e){var t=e.id,n=e.name,o=e.origin,r=t&&t.length?null:{id:"Required!"},i=c.find((function(e){return e.id===t}))?{id:"This id already exists!"}:null,a=n&&n.length?null:{name:"Required!"},s=o.value.length&&c.find((function(e){return e.id===o.value}))?null:{id:"Yuu must select an existing variation!"},l=t&&t.length&&!/^[A-Za-z0-9]+([A-Za-z0-9]+)*$/.exec(t)&&{id:"No special characters allowed"};return ne(ne(ne(ne(ne({},r),i),a),s),l)}function C(e){var t=X.a.generateId(e);p(t)}function E(){k(),n()}function k(){p(""),g(""),d({}),v(!0),S({value:i.id,label:i.name})}function N(){return T.apply(this,arguments)}function T(){return(T=Object(Y.a)(G.a.mark((function e(){var t,n;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=w({id:f,name:O,origin:x}),Object.keys(t).length?d(t):(n=c.find((function(e){return e.id===x.value})))&&(r(f,O,n),E());case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(o.useEffect)((function(){k()}),[i,t]),Object(h.jsx)(Z.a,{isOpen:t,shouldCloseOnOverlayClick:!0,onRequestClose:function(){return E()},contentLabel:"Widget Form Modal",style:{content:{maxWidth:"700px"}},children:Object(h.jsx)(Q.d,{initialValues:{id:f,name:O,origin:x},onSubmit:N,children:Object(h.jsx)(Q.c,{id:"variation-add",onKeyDown:function(e){"Enter"===e.key&&(e.preventDefault(),N())},children:Object(h.jsx)(a.b,{children:Object(h.jsxs)($,{sx:{textAlign:"left"},HeaderContent:Object(h.jsx)(a.t,{as:"h2",children:"Add new Variation"}),FooterContent:Object(h.jsxs)(a.h,{sx:{justifyContent:"flex-end"},children:[Object(h.jsx)(a.c,{onClick:E,mr:2,variant:"secondary",children:"Cancel"}),Object(h.jsx)(a.c,{type:"submit",children:"Submit"})]}),close:E,children:[Object(h.jsxs)(a.b,{sx:{pb:4,mt:4},children:[Object(h.jsxs)(a.n,{htmlFor:"name",sx:{mb:1},children:["Variation name*",l.name?Object(h.jsx)(oe,{msg:l.name}):""]}),Object(h.jsx)(Q.a,{autoComplete:"off",id:"name",name:"name",placeholder:"e.g. Grid - With Icon",as:a.m,maxLength:30,value:O,onChange:function(e){return t=e.currentTarget.value,g(t),void(b&&C(t));var t}}),Object(h.jsx)(a.t,{children:"It will appear here in Slice Machine, and in the page editor in Prismic"})]}),Object(h.jsxs)(a.b,{sx:{pb:4},children:[Object(h.jsxs)(a.n,{htmlFor:"id",sx:{mb:1},children:["Variation ID*",l.id?Object(h.jsx)(oe,{msg:l.id}):""]}),Object(h.jsx)(Q.a,{autoComplete:"off",id:"id",name:"id",placeholder:"e.g. GridWithIcon",as:a.m,maxLength:30,value:f,onChange:function(e){return t=e.currentTarget.value,v(!1),void C(t);var t}}),Object(h.jsx)(a.t,{children:"It's generated automatically based on the variation name and will appear in the API responses."})]}),Object(h.jsxs)(a.b,{sx:{pb:4},children:[Object(h.jsx)(a.n,{htmlFor:"origin",sx:{mb:1},children:"Duplicate from"}),Object(h.jsx)(ee.a,{name:"origin",options:c.map((function(e){return{value:e.id,label:e.name}})),onChange:function(e){e&&S(e)},defaultValue:x,maxMenuHeight:150,theme:function(e){return ne(ne({},e),{},{colors:ne(ne({},e.colors),{},{text:"text",primary:"background"})})}})]})]})})})})})},ie=n("nxpB"),ae=n("HsZ8"),ce=function(e){var t=e.loading,n=e.children,o=e.disabled,r=e.onClick;return Object(h.jsxs)(a.c,{sx:{display:"flex",cursor:"pointer",p:2,px:3,alignItems:"center",justifyContent:"center",borderColor:"transparent"},variant:o?"buttons.disabled":"buttons.primary",disabled:o||t,onClick:r,children:[t&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(a.s,{color:"#F7F7F7",size:24,mr:2})," "]}),n]})},se=function(e){var t=e.Model,n=e.store,r=e.variation,i=e.onSave,c=e.onPush,s=e.isLoading,l=e.imageLoading,d=void 0!==l&&l,u=Object(F.useRouter)(),f=Object(o.useState)(!1),p=f[0],m=f[1],b=-1!==["MODIFIED","NEW_SLICE"].indexOf(t.__status);return Object(h.jsx)(a.h,{sx:{display:"flex",flexWrap:"wrap",margin:"0 auto",maxWidth:1224,mx:"auto",px:3,pt:4},children:Object(h.jsx)(a.b,{as:"section",sx:{flexGrow:99999,flexBasis:0,minWidth:320},children:Object(h.jsxs)(a.h,{sx:{justifyContent:"space-between",alignItems:"start"},children:[Object(h.jsx)(a.b,{children:Object(h.jsxs)(a.h,{sx:{flexDirection:"column"},children:[Object(h.jsxs)(a.h,{sx:{fontSize:4,fontWeight:"heading",alignItems:"center"},children:[Object(h.jsx)(C.a,{href:"/slices",passHref:!0,children:Object(h.jsx)(a.o,{variant:"invisible",children:Object(h.jsxs)(a.h,{sx:{alignItems:"center"},children:[Object(h.jsx)(N.n,{})," ",Object(h.jsx)(a.t,{ml:2,children:"Slices"})]})})}),Object(h.jsx)(a.b,{sx:{fontWeight:"thin"},as:"span",children:Object(h.jsx)(a.t,{ml:2,children:"/ ".concat(t.model.name," / ").concat(r.name)})})]}),Object(h.jsx)(a.h,{mt:3,sx:{alignItems:"center"},children:Object(h.jsxs)(a.h,{sx:{alignItems:"center"},children:[Object(h.jsx)(ae.a,{defaultValue:r,variations:t.variations,onNewVariation:function(){return m(!0)},onChange:function(e){u.push.apply(u,Object(V.a)(ie.a({lib:t.href,sliceName:t.model.name,variationId:e.id}).all))}}),Object(h.jsx)(a.b,{ml:2,children:Object(h.jsxs)(a.t,{variant:"xs",children:["Variation id : ",r.id]})})]})})]})}),Object(h.jsx)(ce,{onClick:t.isTouched?i:c,loading:s&&!d,disabled:s||d||!t.isTouched&&!b,children:t.isTouched?"Save model to filesystem":b?"Push Slice to Prismic":"Your Slice is up to date!"}),Object(h.jsx)(re,{isOpen:p,onClose:function(){return m(!1)},onSubmit:function(e,o,r){n.copyVariation(e,o,r),u.push.apply(u,Object(V.a)(ie.a({lib:t.href,sliceName:t.model.name,variationId:e}).all))},initialVariation:r,variations:t.variations})]})})})},le=n("wx14"),de=n("Ff2n"),ue=n("1OyB"),fe=n("vuIU"),pe=n("Ji7U"),me=n("foSv"),be=n("2WcH"),he=n("U8pU"),ve=n("JX7q");function je(e,t){if(t&&("object"===Object(he.a)(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Object(ve.a)(e)}function Oe(e){var t=Object(be.a)();return function(){var n,o=Object(me.a)(e);if(t){var r=Object(me.a)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return je(this,n)}}var ge=function(e){return+setTimeout(e,16)},ye=function(e){return clearTimeout(e)};"undefined"!==typeof window&&"requestAnimationFrame"in window&&(ge=function(e){return window.requestAnimationFrame(e)},ye=function(e){return window.cancelAnimationFrame(e)});var xe=0,Se=new Map;function we(e){Se.delete(e)}function Ce(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=xe+=1;function o(t){if(0===t)we(n),e();else{var r=ge((function(){o(t-1)}));Se.set(n,r)}}return o(t),n}Ce.cancel=function(e){var t=Se.get(e);return we(t),ye(t)};var Ee=n("i8i4"),ke=n.n(Ee);function Ne(){return!("undefined"===typeof window||!window.document||!window.document.createElement)}var Te,Ie=Object(o.forwardRef)((function(e,t){var n=e.didUpdate,r=e.getContainer,i=e.children,a=Object(o.useRef)();Object(o.useImperativeHandle)(t,(function(){return{}}));var c=Object(o.useRef)(!1);return!c.current&&Ne()&&(a.current=r(),c.current=!0),Object(o.useEffect)((function(){null===n||void 0===n||n(e)})),Object(o.useEffect)((function(){return function(){var e,t;null===(e=a.current)||void 0===e||null===(t=e.parentNode)||void 0===t||t.removeChild(a.current)}}),[]),a.current?ke.a.createPortal(i,a.current):null}));function Ae(e){if("undefined"===typeof document)return 0;if(e||void 0===Te){var t=document.createElement("div");t.style.width="100%",t.style.height="200px";var n=document.createElement("div"),o=n.style;o.position="absolute",o.top="0",o.left="0",o.pointerEvents="none",o.visibility="hidden",o.width="200px",o.height="150px",o.overflow="hidden",n.appendChild(t),document.body.appendChild(n);var r=t.offsetWidth;n.style.overflow="scroll";var i=t.offsetWidth;r===i&&(i=n.clientWidth),document.body.removeChild(n),Te=r-i}return Te}var Me=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)return{};var n=t.element,o=void 0===n?document.body:n,r={},i=Object.keys(e);return i.forEach((function(e){r[e]=o.style[e]})),i.forEach((function(t){o.style[t]=e[t]})),r};var De={},Pe=function(e){if(document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth||e){var t="ant-scrolling-effect",n=new RegExp("".concat(t),"g"),o=document.body.className;if(e){if(!n.test(o))return;return Me(De),De={},void(document.body.className=o.replace(n,"").trim())}var r=Ae();if(r&&(De=Me({position:"relative",width:"calc(100% - ".concat(r,"px)")}),!n.test(o))){var i="".concat(o," ").concat(t);document.body.className=i.trim()}}},Fe=n("KQm4"),Le=[],Re="ant-scrolling-effect",He=new RegExp("".concat(Re),"g"),Ue=0,_e=new Map,We=Object(fe.a)((function e(t){var n=this;Object(ue.a)(this,e),this.lockTarget=void 0,this.options=void 0,this.getContainer=function(){var e;return null===(e=n.options)||void 0===e?void 0:e.container},this.reLock=function(e){var t=Le.find((function(e){return e.target===n.lockTarget}));t&&n.unLock(),n.options=e,t&&(t.options=e,n.lock())},this.lock=function(){var e;if(!Le.some((function(e){return e.target===n.lockTarget})))if(Le.some((function(e){var t,o=e.options;return(null===o||void 0===o?void 0:o.container)===(null===(t=n.options)||void 0===t?void 0:t.container)})))Le=[].concat(Object(Fe.a)(Le),[{target:n.lockTarget,options:n.options}]);else{var t=0,o=(null===(e=n.options)||void 0===e?void 0:e.container)||document.body;(o===document.body&&window.innerWidth-document.documentElement.clientWidth>0||o.scrollHeight>o.clientHeight)&&(t=Ae());var r=o.className;if(0===Le.filter((function(e){var t,o=e.options;return(null===o||void 0===o?void 0:o.container)===(null===(t=n.options)||void 0===t?void 0:t.container)})).length&&_e.set(o,Me({width:0!==t?"calc(100% - ".concat(t,"px)"):void 0,overflow:"hidden",overflowX:"hidden",overflowY:"hidden"},{element:o})),!He.test(r)){var i="".concat(r," ").concat(Re);o.className=i.trim()}Le=[].concat(Object(Fe.a)(Le),[{target:n.lockTarget,options:n.options}])}},this.unLock=function(){var e,t=Le.find((function(e){return e.target===n.lockTarget}));if(Le=Le.filter((function(e){return e.target!==n.lockTarget})),t&&!Le.some((function(e){var n,o=e.options;return(null===o||void 0===o?void 0:o.container)===(null===(n=t.options)||void 0===n?void 0:n.container)}))){var o=(null===(e=n.options)||void 0===e?void 0:e.container)||document.body,r=o.className;He.test(r)&&(Me(_e.get(o),{element:o}),_e.delete(o),o.className=o.className.replace(He,"").trim())}},this.lockTarget=Ue++,this.options=t})),Ke=0,Be=Ne();var Ve={},Ye=function(e){if(!Be)return null;if(e){if("string"===typeof e)return document.querySelectorAll(e)[0];if("function"===typeof e)return e();if("object"===Object(he.a)(e)&&e instanceof window.HTMLElement)return e}return document.body},ze=function(e){Object(pe.a)(n,e);var t=Oe(n);function n(e){var r;return Object(ue.a)(this,n),(r=t.call(this,e)).container=void 0,r.componentRef=o.createRef(),r.rafId=void 0,r.scrollLocker=void 0,r.renderComponent=void 0,r.updateScrollLocker=function(e){var t=(e||{}).visible,n=r.props,o=n.getContainer,i=n.visible;i&&i!==t&&Be&&Ye(o)!==r.scrollLocker.getContainer()&&r.scrollLocker.reLock({container:Ye(o)})},r.updateOpenCount=function(e){var t=e||{},n=t.visible,o=t.getContainer,i=r.props,a=i.visible,c=i.getContainer;a!==n&&Be&&Ye(c)===document.body&&(a&&!n?Ke+=1:e&&(Ke-=1)),("function"===typeof c&&"function"===typeof o?c.toString()!==o.toString():c!==o)&&r.removeCurrentContainer()},r.attachToParent=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(e||r.container&&!r.container.parentNode){var t=Ye(r.props.getContainer);return!!t&&(t.appendChild(r.container),!0)}return!0},r.getContainer=function(){return Be?(r.container||(r.container=document.createElement("div"),r.attachToParent(!0)),r.setWrapperClassName(),r.container):null},r.setWrapperClassName=function(){var e=r.props.wrapperClassName;r.container&&e&&e!==r.container.className&&(r.container.className=e)},r.removeCurrentContainer=function(){var e,t;null===(e=r.container)||void 0===e||null===(t=e.parentNode)||void 0===t||t.removeChild(r.container)},r.switchScrollingEffect=function(){1!==Ke||Object.keys(Ve).length?Ke||(Me(Ve),Ve={},Pe(!0)):(Pe(),Ve=Me({overflow:"hidden",overflowX:"hidden",overflowY:"hidden"}))},r.scrollLocker=new We({container:Ye(e.getContainer)}),r}return Object(fe.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.updateOpenCount(),this.attachToParent()||(this.rafId=Ce((function(){e.forceUpdate()})))}},{key:"componentDidUpdate",value:function(e){this.updateOpenCount(e),this.updateScrollLocker(e),this.setWrapperClassName(),this.attachToParent()}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.visible,n=e.getContainer;Be&&Ye(n)===document.body&&(Ke=t&&Ke?Ke-1:Ke),this.removeCurrentContainer(),Ce.cancel(this.rafId)}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.forceRender,r=e.visible,i=null,a={getOpenCount:function(){return Ke},getContainer:this.getContainer,switchScrollingEffect:this.switchScrollingEffect,scrollLocker:this.scrollLocker};return(n||r||this.componentRef.current)&&(i=o.createElement(Ie,{getContainer:this.getContainer,ref:this.componentRef},t(a))),i}}]),n}(o.Component),Ge=n("VTBJ"),Xe=n("rePB"),Qe=n("TSYQ"),Ze=n.n(Qe),qe={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,WIN_IME:229,isTextModifyingKeyEvent:function(e){var t=e.keyCode;if(e.altKey&&!e.ctrlKey||e.metaKey||t>=qe.F1&&t<=qe.F12)return!1;switch(t){case qe.ALT:case qe.CAPS_LOCK:case qe.CONTEXT_MENU:case qe.CTRL:case qe.DOWN:case qe.END:case qe.ESC:case qe.HOME:case qe.INSERT:case qe.LEFT:case qe.MAC_FF_META:case qe.META:case qe.NUMLOCK:case qe.NUM_CENTER:case qe.PAGE_DOWN:case qe.PAGE_UP:case qe.PAUSE:case qe.PRINT_SCREEN:case qe.RIGHT:case qe.SHIFT:case qe.UP:case qe.WIN_KEY:case qe.WIN_KEY_RIGHT:return!1;default:return!0}},isCharacterKey:function(e){if(e>=qe.ZERO&&e<=qe.NINE)return!0;if(e>=qe.NUM_ZERO&&e<=qe.NUM_MULTIPLY)return!0;if(e>=qe.A&&e<=qe.Z)return!0;if(-1!==window.navigator.userAgent.indexOf("WebKit")&&0===e)return!0;switch(e){case qe.SPACE:case qe.QUESTION_MARK:case qe.NUM_PLUS:case qe.NUM_MINUS:case qe.NUM_PERIOD:case qe.NUM_DIVISION:case qe.SEMICOLON:case qe.DASH:case qe.EQUALS:case qe.COMMA:case qe.PERIOD:case qe.SLASH:case qe.APOSTROPHE:case qe.SINGLE_QUOTE:case qe.OPEN_SQUARE_BRACKET:case qe.BACKSLASH:case qe.CLOSE_SQUARE_BRACKET:return!0;default:return!1}}},Je=qe;var $e={transition:"transitionend",WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend"},et=Object.keys($e).filter((function(e){if("undefined"===typeof document)return!1;var t=document.getElementsByTagName("html")[0];return e in(t?t.style:{})}))[0],tt=$e[et];function nt(e,t,n,o){e.addEventListener?e.addEventListener(t,n,o):e.attachEvent&&e.attachEvent("on".concat(t),n)}function ot(e,t,n,o){e.removeEventListener?e.removeEventListener(t,n,o):e.attachEvent&&e.detachEvent("on".concat(t),n)}var rt=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},it=!("undefined"!==typeof window&&window.document&&window.document.createElement),at=function e(t,n,o,r){if(!n||n===document||n instanceof Document)return!1;if(n===t.parentNode)return!0;var i=Math.max(Math.abs(o),Math.abs(r))===Math.abs(r),a=Math.max(Math.abs(o),Math.abs(r))===Math.abs(o),c=n.scrollHeight-n.clientHeight,s=n.scrollWidth-n.clientWidth,l=document.defaultView.getComputedStyle(n),d="auto"===l.overflowY||"scroll"===l.overflowY,u="auto"===l.overflowX||"scroll"===l.overflowX,f=c&&d,p=s&&u;return!!(i&&(!f||f&&(n.scrollTop>=c&&r<0||n.scrollTop<=0&&r>0))||a&&(!p||p&&(n.scrollLeft>=s&&o<0||n.scrollLeft<=0&&o>0)))&&e(t,n.parentNode,o,r)},ct=["className","children","style","width","height","defaultOpen","open","prefixCls","placement","level","levelMove","ease","duration","getContainer","handler","onChange","afterVisibleChange","showMask","maskClosable","maskStyle","onClose","onHandleClick","keyboard","getOpenCount","scrollLocker","contentWrapperStyle"],st={},lt=function(e){Object(pe.a)(n,e);var t=Oe(n);function n(e){var o;return Object(ue.a)(this,n),(o=t.call(this,e)).levelDom=void 0,o.dom=void 0,o.contentWrapper=void 0,o.contentDom=void 0,o.maskDom=void 0,o.handlerDom=void 0,o.drawerId=void 0,o.timeout=void 0,o.passive=void 0,o.startPos=void 0,o.domFocus=function(){o.dom&&o.dom.focus()},o.removeStartHandler=function(e){e.touches.length>1?o.startPos=null:o.startPos={x:e.touches[0].clientX,y:e.touches[0].clientY}},o.removeMoveHandler=function(e){if(!(e.changedTouches.length>1)&&o.startPos){var t=e.currentTarget,n=e.changedTouches[0].clientX-o.startPos.x,r=e.changedTouches[0].clientY-o.startPos.y;(t===o.maskDom||t===o.handlerDom||t===o.contentDom&&at(t,e.target,n,r))&&e.cancelable&&e.preventDefault()}},o.transitionEnd=function(e){var t=e.target;ot(t,tt,o.transitionEnd),t.style.transition=""},o.onKeyDown=function(e){if(e.keyCode===Je.ESC){var t=o.props.onClose;e.stopPropagation(),t&&t(e)}},o.onWrapperTransitionEnd=function(e){var t=o.props,n=t.open,r=t.afterVisibleChange;e.target===o.contentWrapper&&e.propertyName.match(/transform$/)&&(o.dom.style.transition="",!n&&o.getCurrentDrawerSome()&&(document.body.style.overflowX="",o.maskDom&&(o.maskDom.style.left="",o.maskDom.style.width="")),r&&r(!!n))},o.openLevelTransition=function(){var e=o.props,t=e.open,n=e.width,r=e.height,i=o.getHorizontalBoolAndPlacementName(),a=i.isHorizontal,c=i.placementName,s=o.contentDom?o.contentDom.getBoundingClientRect()[a?"width":"height"]:0,l=(a?n:r)||s;o.setLevelAndScrolling(t,c,l)},o.setLevelTransform=function(e,t,n,r){var i=o.props,a=i.placement,c=i.levelMove,s=i.duration,l=i.ease,d=i.showMask;o.levelDom.forEach((function(i){i.style.transition="transform ".concat(s," ").concat(l),nt(i,tt,o.transitionEnd);var u=e?n:0;if(c){var f=function(e,t){var n="function"===typeof e?e(t):e;return Array.isArray(n)?2===n.length?n:[n[0],n[1]]:[n]}(c,{target:i,open:e});u=e?f[0]:f[1]||0}var p="number"===typeof u?"".concat(u,"px"):u,m="left"===a||"top"===a?p:"-".concat(p);m=d&&"right"===a&&r?"calc(".concat(m," + ").concat(r,"px)"):m,i.style.transform=u?"".concat(t,"(").concat(m,")"):""}))},o.setLevelAndScrolling=function(e,t,n){var r=o.props.onChange;if(!it){var i=document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth?Ae(!0):0;o.setLevelTransform(e,t,n,i),o.toggleScrollingToDrawerAndBody(i)}r&&r(e)},o.toggleScrollingToDrawerAndBody=function(e){var t=o.props,n=t.getContainer,r=t.showMask,i=t.open,a=n&&n();if(a&&a.parentNode===document.body&&r){var c=["touchstart"],s=[document.body,o.maskDom,o.handlerDom,o.contentDom];i&&"hidden"!==document.body.style.overflow?(e&&o.addScrollingEffect(e),document.body.style.touchAction="none",s.forEach((function(e,t){e&&nt(e,c[t]||"touchmove",t?o.removeMoveHandler:o.removeStartHandler,o.passive)}))):o.getCurrentDrawerSome()&&(document.body.style.touchAction="",e&&o.remScrollingEffect(e),s.forEach((function(e,t){e&&ot(e,c[t]||"touchmove",t?o.removeMoveHandler:o.removeStartHandler,o.passive)})))}},o.addScrollingEffect=function(e){var t=o.props,n=t.placement,r=t.duration,i=t.ease,a="width ".concat(r," ").concat(i),c="transform ".concat(r," ").concat(i);switch(o.dom.style.transition="none",n){case"right":o.dom.style.transform="translateX(-".concat(e,"px)");break;case"top":case"bottom":o.dom.style.width="calc(100% - ".concat(e,"px)"),o.dom.style.transform="translateZ(0)"}clearTimeout(o.timeout),o.timeout=setTimeout((function(){o.dom&&(o.dom.style.transition="".concat(c,",").concat(a),o.dom.style.width="",o.dom.style.transform="")}))},o.remScrollingEffect=function(e){var t,n=o.props,r=n.placement,i=n.duration,a=n.ease;et&&(document.body.style.overflowX="hidden"),o.dom.style.transition="none";var c="width ".concat(i," ").concat(a),s="transform ".concat(i," ").concat(a);switch(r){case"left":o.dom.style.width="100%",c="width 0s ".concat(a," ").concat(i);break;case"right":o.dom.style.transform="translateX(".concat(e,"px)"),o.dom.style.width="100%",c="width 0s ".concat(a," ").concat(i),o.maskDom&&(o.maskDom.style.left="-".concat(e,"px"),o.maskDom.style.width="calc(100% + ".concat(e,"px)"));break;case"top":case"bottom":o.dom.style.width="calc(100% + ".concat(e,"px)"),o.dom.style.height="100%",o.dom.style.transform="translateZ(0)",t="height 0s ".concat(a," ").concat(i)}clearTimeout(o.timeout),o.timeout=setTimeout((function(){o.dom&&(o.dom.style.transition="".concat(s,",").concat(t?"".concat(t,","):"").concat(c),o.dom.style.transform="",o.dom.style.width="",o.dom.style.height="")}))},o.getCurrentDrawerSome=function(){return!Object.keys(st).some((function(e){return st[e]}))},o.getLevelDom=function(e){var t=e.level,n=e.getContainer;if(!it){var r,i=n&&n(),a=i?i.parentNode:null;if(o.levelDom=[],"all"===t)(a?Array.prototype.slice.call(a.children):[]).forEach((function(e){"SCRIPT"!==e.nodeName&&"STYLE"!==e.nodeName&&"LINK"!==e.nodeName&&e!==i&&o.levelDom.push(e)}));else t&&(r=t,Array.isArray(r)?r:[r]).forEach((function(e){document.querySelectorAll(e).forEach((function(e){o.levelDom.push(e)}))}))}},o.getHorizontalBoolAndPlacementName=function(){var e=o.props.placement,t="left"===e||"right"===e;return{isHorizontal:t,placementName:"translate".concat(t?"X":"Y")}},o.state={_self:Object(ve.a)(o)},o}return Object(fe.a)(n,[{key:"componentDidMount",value:function(){var e=this;if(!it){var t=!1;try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){return t=!0,null}}))}catch(l){}this.passive=!!t&&{passive:!1}}var n,o=this.props,r=o.open,i=o.getContainer,a=o.showMask,c=o.autoFocus,s=i&&i();(this.drawerId="drawer_id_".concat(Number((Date.now()+Math.random()).toString().replace(".",Math.round(9*Math.random()).toString())).toString(16)),this.getLevelDom(this.props),r)&&(s&&s.parentNode===document.body&&(st[this.drawerId]=r),this.openLevelTransition(),this.forceUpdate((function(){c&&e.domFocus()})),a&&(null===(n=this.props.scrollLocker)||void 0===n||n.lock()))}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.open,o=t.getContainer,r=t.scrollLocker,i=t.showMask,a=t.autoFocus,c=o&&o();n!==e.open&&(c&&c.parentNode===document.body&&(st[this.drawerId]=!!n),this.openLevelTransition(),n?(a&&this.domFocus(),i&&(null===r||void 0===r||r.lock())):null===r||void 0===r||r.unLock())}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.open,n=e.scrollLocker;delete st[this.drawerId],t&&(this.setLevelTransform(!1),document.body.style.touchAction=""),null===n||void 0===n||n.unLock()}},{key:"render",value:function(){var e,t=this,n=this.props,r=n.className,i=n.children,a=n.style,c=n.width,s=n.height,l=(n.defaultOpen,n.open),d=n.prefixCls,u=n.placement,f=(n.level,n.levelMove,n.ease,n.duration,n.getContainer,n.handler),p=(n.onChange,n.afterVisibleChange,n.showMask),m=n.maskClosable,b=n.maskStyle,h=n.onClose,v=n.onHandleClick,j=n.keyboard,O=(n.getOpenCount,n.scrollLocker,n.contentWrapperStyle),g=Object(de.a)(n,ct),y=!!this.dom&&l,x=Ze()(d,(e={},Object(Xe.a)(e,"".concat(d,"-").concat(u),!0),Object(Xe.a)(e,"".concat(d,"-open"),y),Object(Xe.a)(e,r||"",!!r),Object(Xe.a)(e,"no-mask",!p),e)),S=this.getHorizontalBoolAndPlacementName().placementName,w="left"===u||"top"===u?"-100%":"100%",C=y?"":"".concat(S,"(").concat(w,")"),E=f&&o.cloneElement(f,{onClick:function(e){f.props.onClick&&f.props.onClick(),v&&v(e)},ref:function(e){t.handlerDom=e}});return o.createElement("div",Object(le.a)({},function(e,t){var n=Object(Ge.a)({},e);return Array.isArray(t)&&t.forEach((function(e){delete n[e]})),n}(g,["switchScrollingEffect","autoFocus"]),{tabIndex:-1,className:x,style:a,ref:function(e){t.dom=e},onKeyDown:y&&j?this.onKeyDown:void 0,onTransitionEnd:this.onWrapperTransitionEnd}),p&&o.createElement("div",{className:"".concat(d,"-mask"),onClick:m?h:void 0,style:b,ref:function(e){t.maskDom=e}}),o.createElement("div",{className:"".concat(d,"-content-wrapper"),style:Object(Ge.a)({transform:C,msTransform:C,width:rt(c)?"".concat(c,"px"):c,height:rt(s)?"".concat(s,"px"):s},O),ref:function(e){t.contentWrapper=e}},o.createElement("div",{className:"".concat(d,"-content"),ref:function(e){t.contentDom=e}},i),E))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=t.prevProps,o=t._self,r={prevProps:e};if(void 0!==n){var i=e.placement,a=e.level;i!==n.placement&&(o.contentDom=null),a!==n.level&&o.getLevelDom(e)}return r}}]),n}(o.Component),dt=["defaultOpen","getContainer","wrapperClassName","forceRender","handler"],ut=["visible","afterClose"],ft=function(e){Object(pe.a)(n,e);var t=Oe(n);function n(e){var o;Object(ue.a)(this,n),(o=t.call(this,e)).dom=void 0,o.onHandleClick=function(e){var t=o.props,n=t.onHandleClick,r=t.open;if(n&&n(e),"undefined"===typeof r){var i=o.state.open;o.setState({open:!i})}},o.onClose=function(e){var t=o.props,n=t.onClose,r=t.open;n&&n(e),"undefined"===typeof r&&o.setState({open:!1})};var r="undefined"!==typeof e.open?e.open:!!e.defaultOpen;return o.state={open:r},"onMaskClick"in e&&console.warn("`onMaskClick` are removed, please use `onClose` instead."),o}return Object(fe.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=(t.defaultOpen,t.getContainer),r=t.wrapperClassName,i=t.forceRender,a=t.handler,c=Object(de.a)(t,dt),s=this.state.open;if(!n)return o.createElement("div",{className:r,ref:function(t){e.dom=t}},o.createElement(lt,Object(le.a)({},c,{open:s,handler:a,getContainer:function(){return e.dom},onClose:this.onClose,onHandleClick:this.onHandleClick})));var l=!!a||i;return o.createElement(ze,{visible:s,forceRender:l,getContainer:n,wrapperClassName:r},(function(t){var n=t.visible,r=t.afterClose,i=Object(de.a)(t,ut);return o.createElement(lt,Object(le.a)({},c,i,{open:void 0!==n?n:s,afterVisibleChange:void 0!==r?r:c.afterVisibleChange,handler:a,onClose:e.onClose,onHandleClick:e.onHandleClick}))}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=t.prevProps,o={prevProps:e};return"undefined"!==typeof n&&e.open!==n.open&&(o.open=e.open),o}}]),n}(o.Component);ft.defaultProps={prefixCls:"drawer",placement:"left",getContainer:"body",defaultOpen:!1,level:"all",duration:".3s",ease:"cubic-bezier(0.78, 0.14, 0.15, 0.86)",onChange:function(){},afterVisibleChange:function(){},handler:o.createElement("div",{className:"drawer-handle"},o.createElement("i",{className:"drawer-handle-icon"})),showMask:!0,maskClosable:!0,maskStyle:{},wrapperClassName:"",className:"",keyboard:!0,forceRender:!1,autoFocus:!0};var pt=ft,mt=n("ma3e"),bt=function(e){var t=e.children,n=e.heading;return Object(h.jsx)(a.h,{sx:{padding:"16px 20px"},children:Object(h.jsxs)(a.h,{sx:{padding:3,backgroundColor:function(e){var t;return null===(t=e.colors)||void 0===t?void 0:t.gray},borderRadius:8,flexDirection:"column"},children:[Object(h.jsxs)(a.h,{sx:{alignItems:"center",mb:3},children:[Object(h.jsx)(a.h,{sx:{mr:2},children:Object(h.jsx)(mt.d,{size:20,color:"grey05"})}),Object(h.jsx)(a.t,{sx:{fontSize:2,fontWeight:500},children:n})]}),Object(h.jsx)(a.t,{sx:{color:function(e){var t;return null===(t=e.colors)||void 0===t?void 0:t.textClear}},children:t})]})})},ht=function(e){var t=e.linkToStorybookDocs;return Object(h.jsxs)(bt,{heading:"Already using Storybook",children:["Want to still use Storybook for your project? You can check the"," ",Object(h.jsx)(a.o,{target:"_blank",href:t,children:"documentation"})," ","for more info to update your configuration."]})},vt=n("oGaq"),jt=n("TTYu");function Ot(e){var t=e.framework;if(!e.isSimulatorAvailableForFramework)return Object(h.jsxs)("p",{children:["Framework ",t||"undefined"," is not supported yet. Please use Storybook instead."]});var n=Object(jt.a)(t),o=Object(L.a)(),r=o.toggleSetupDrawerStep,i=o.checkSimulatorSetup,a=Object(T.useSelector)((function(e){return{openedStep:Object(vt.g)(e),isCheckingSetup:Object(I.a)(e,A.a.CHECK_SIMULATOR),setupStatus:Object(vt.h)(e),simulatorUrl:Object(R.p)(e),framework:Object(R.e)(e),linkToTroubleshootingDocs:Object(R.i)(e),userHasAtLeastOneStepMissing:Object(vt.i)(e),userHasConfiguredAllSteps:Object(vt.j)(e)}})),c=a.simulatorUrl,s=a.openedStep,l=a.setupStatus,d=a.userHasAtLeastOneStepMissing,u=a.userHasConfiguredAllSteps,f=a.linkToTroubleshootingDocs,p=a.isCheckingSetup,m=n.getStepNumberWithErrors(l);return Object(h.jsx)("div",{children:n.steps.map((function(e,t){return Object(h.jsx)(e,{stepNumber:t+1,isOpen:s===t+1,onOpenStep:function(){return r(t+1)},linkToTroubleshootingDocs:f,simulatorUrl:c,openedStep:s,setupStatus:l,userHasAtLeastOneStepMissing:d,userHasConfiguredAllSteps:u,checkSimulatorSetup:i,isCheckingSetup:p,stepNumberWithErrors:m},"next-step-".concat(t+1))}))})}var gt=function(){var e=Object(L.a)().closeSetupDrawer,t=Object(T.useSelector)((function(e){return{isSetupDrawerOpen:Object(vt.e)(e),framework:Object(R.e)(e),linkToStorybookDocs:Object(R.h)(e),isSimulatorAvailableForFramework:Object(R.o)(e)}})),n=t.isSetupDrawerOpen,r=t.linkToStorybookDocs,i=t.framework,c=t.isSimulatorAvailableForFramework;return Object(o.useEffect)((function(){c||e()}),[c]),Object(h.jsx)(pt,{placement:"right",open:n,level:null,onClose:e,width:492,children:Object(h.jsxs)(a.h,{sx:{display:"flex",flexDirection:"column",height:"100%"},children:[Object(h.jsxs)(a.h,{sx:{p:"20px",justifyContent:"space-between",borderBottomStyle:"solid",borderBottomWidth:"1px",borderBottomColor:function(e){var t;return null===(t=e.colors)||void 0===t?void 0:t.borders}},children:[Object(h.jsx)(a.t,{sx:{fontSize:3},children:"Setup Slice Simulator"}),Object(h.jsx)(a.f,{"data-testid":"close-set-up-simulator",color:"#4E4E55",onClick:e})]}),Object(h.jsx)(a.h,{sx:{flex:1,overflow:"auto",flexDirection:"column",pl:"24px",pr:"24px"},children:Object(h.jsx)(a.h,{as:"section",sx:{flexDirection:"column"},children:Object(h.jsx)(Ot,{framework:i,isSimulatorAvailableForFramework:c})})}),Object(h.jsx)(ht,{linkToStorybookDocs:r})]})})},yt=n("lIAk"),xt=n("QF7w"),St={imageLoading:!1,loading:!1,done:!1,error:null,status:null},wt=function(){var e=Object(o.useContext)(i.a),t=e.Model,n=e.store,c=e.variation,s=Object(L.a)(),l=s.openLoginModal,d=s.checkSimulatorSetup,u=s.openToaster,f=Object(T.useSelector)((function(e){return{simulatorUrl:Object(R.p)(e),isWaitingForIframeCheck:Object(vt.f)(e)}})),p=f.simulatorUrl,m=f.isWaitingForIframeCheck;if(!n||!t||!c)return null;var b=Object(o.useState)(St),j=b[0],O=b[1],g=function(e){O(e),e.error&&403===e.status&&l()};Object(o.useEffect)((function(){t.isTouched&&O(St)}),[t.isTouched]),Object(o.useEffect)((function(){var e;j.done&&(e=u,function(t){t.done&&e(t.message,t.error?r.a.ERROR:t.warning?r.a.WARNING:r.a.SUCCESS)})(j)}),[j]),Object(o.useEffect)((function(){if(n)return function(){return n.reset()}}),[]);var y=Object(o.useMemo)((function(){return[{sliceID:t.model.id,variationID:c.id}]}),[t.model.id,c.id]);return Object(h.jsxs)(a.b,{sx:{flex:1},children:[Object(h.jsx)(se,{Model:t,store:n,variation:c,onPush:function(){n.push(t,g)},onSave:function(){n.save(t,O)},isLoading:j.loading,imageLoading:j.imageLoading}),Object(h.jsx)(S,{sx:{py:4},SideBar:Object(h.jsx)(B,{Model:t,variation:c,onScreenshot:function(){d(!0,(function(){return n.variation(c.id).generateScreenShot(t.from,t.model.name,O)}))},onHandleFile:function(e){return n.variation(c.id).generateCustomScreenShot(t.from,t.model.name,O,e)},imageLoading:j.imageLoading}),children:Object(h.jsx)(v,{Model:t,store:n,variation:c})}),Object(h.jsx)(gt,{}),m&&Object(h.jsx)(yt.a,{dryRun:!0,size:xt.a.FULL,simulatorUrl:p,sliceView:y})]})};t.default=wt},icfG:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/[lib]/[sliceName]/[variation]",function(){return n("iYHI")}])},vC2i:function(e,t,n){"use strict";var o=n("cpVT"),r=n("xvhg"),i=n("q1tI"),a=n("ngQI"),c=n("nf+V"),s=n("/T2O"),l=n("nFBw"),d=n("Pbdj"),u=n("Pcve"),f=n("Q12B"),p=n("/MKj"),m=n("fKyD"),b=n("nKUr");function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){Object(o.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var j=function(e){var t=e.fields,n=e.mockConfig,o=e.title,r=e.tabId,i=e.enterEditMode,h=e.enterSelectMode,j=e.onDragEnd,O=e.renderFieldAccessor,g=e.onDeleteItem,y=e.showHints,x=e.NewFieldC,S=e.renderHintBase,w=e.isRepeatable,C=Object(p.useSelector)((function(e){return{framework:Object(m.e)(e)}})).framework;return Object(b.jsx)(a.a,{onDragEnd:j,children:Object(b.jsx)(a.c,{droppableId:o,children:function(e,o){return Object(b.jsxs)(c.b,v(v({as:"ul",ref:e.innerRef},e.droppableProps),{},{style:v(v({},e.droppableProps.style),{},{padding:"4px 0"}),children:[t.map((function(e,t){var a=e.value,p=a.config,m=a.type,j=Object(d.a)(u,p,m);if(!j)return Object(b.jsx)(f.a,{children:Object(b.jsxs)(c.t,{children:['Field type "',m,'" not supported']})});var x={item:e,index:t,mockConfig:n,tabId:r,widget:j,showHints:y,key:e.key,enterSelectMode:h,renderFieldAccessor:O,enterEditMode:i,parentSnapshot:o,deleteItem:g,draggableId:"list-item-".concat(e.key)};if(j.CustomListItem){var E=j.CustomListItem;return Object(b.jsx)(E,v(v({},x),{},{framework:C}))}var k=Object(b.jsx)(l.a,{item:e,show:y,isRepeatable:w,renderHintBase:S,framework:C,Widgets:u,typeName:j.CUSTOM_NAME||j.TYPE_NAME});return Object(b.jsx)(s.a,v(v({},x),{},{HintElement:k}))})),e.placeholder,Object(b.jsx)(x,{})]}))}})})},O=n("ma3e"),g=n("cEVR"),y=n("Z2pK"),x=n("YnA2"),S=function(e){var t=e.onEnterSelectMode,n=e.zoneName;return Object(b.jsxs)(c.b,{sx:{textAlign:"center",my:4},children:[Object(b.jsx)(c.j,{as:"h5",children:"Add a new field here"}),Object(b.jsx)(c.b,{sx:{my:2},children:Object(b.jsxs)(c.t,{sx:{color:"textClear"},children:["Add a field to your ",n," Zone"]})}),Object(b.jsxs)(c.c,{mt:3,variant:"buttons.darkSmall",onClick:function(){return t()},children:[Object(b.jsx)(O.c,{style:{marginRight:"8px",position:"relative",top:"2px"}})," ","Add a new field"]})]})};function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){Object(o.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.a=function(e){var t=e.mockConfig,n=e.tabId,o=e.title,a=e.fields,s=e.poolOfFieldsToCheck,l=e.widgetsArray,d=e.isRepeatable,u=e.onDeleteItem,f=e.onSaveNewField,p=e.onDragEnd,m=e.EditModal,h=e.onSave,v=e.dataTip,w=e.getFieldMockConfig,E=e.renderHintBase,k=e.renderFieldAccessor,N=!Object.entries(s).find((function(e){return"UID"===Object(r.a)(e,2)[1].value.type}))?l:l.filter((function(e){return"UID"!==e.TYPE_NAME})),T=Object(i.useState)(!1),I=T[0],A=T[1],M=Object(i.useState)({isOpen:!1}),D=M[0],P=M[1],F=Object(i.useState)({isOpen:!1}),L=F[0],R=F[1],H=Object(i.useState)(null),U=H[0],_=H[1],W=function(){R({isOpen:!0})},K=function(){return _(null)};return Object(b.jsxs)(i.Fragment,{children:[Object(b.jsx)(x.a,{Heading:Object(b.jsx)(c.j,{as:"h6",children:o}),Actions:a.length?Object(b.jsxs)(i.Fragment,{children:[Object(b.jsxs)(c.c,{variant:"buttons.lightSmall",onClick:function(){return A(!I)},children:[Object(b.jsx)(O.b,{style:{marginRight:"8px",position:"relative",top:"2px"}})," ",I?"Hide":"Show"," code snippets"]}),Object(b.jsxs)(c.c,{ml:2,variant:"buttons.darkSmall",onClick:function(){return W()},children:[Object(b.jsx)(O.c,{style:{marginRight:"8px",position:"relative",top:"2px"}}),"Add a new Field"]})]}):null}),!a.length&&!U&&Object(b.jsx)(S,{onEnterSelectMode:function(){return W()},zoneName:d?"Repeatable":"Static"}),Object(b.jsx)(j,{tabId:n,isRepeatable:d,fields:a,showHints:I,mockConfig:t,dataTip:v,title:o,renderFieldAccessor:k,renderHintBase:E,enterEditMode:function(e){P({isOpen:!0,field:e})},enterSelectMode:W,onDragEnd:p,onDeleteItem:u,NewFieldC:function(){return U&&Object(b.jsx)(y.a,C(C({},U),{},{fields:s||a,onSave:function(){f.apply(void 0,arguments),_(null)},onCancelNewField:K}))}}),Object(b.jsx)(m,{data:D,close:function(){P({isOpen:!1})},onSave:h,fields:s,getFieldMockConfig:w}),Object(b.jsx)(g.a,{data:L,close:function(){return R({isOpen:!1})},onSelect:function(e){_({widgetTypeName:e,fields:a}),R({isOpen:!1})},widgetsArray:N})]})}}},[["icfG",1,0,4,8,7,11,5,14,6,13,9,10,2,3,12,15,16,17]]]);